variables:
  COMPOSE_PROJECT_NAME: '$(DC_PROJECT_NAME)'

  APP_CODE_PATH_HOST: '.'
  APP_CODE_PATH_CONTAINER: '/var/www'
  APP_CODE_CONTAINER_FLAG: ''
  DATA_PATH_HOST: '.laradock'

  COMPOSE_FILE: 'docker-compose.yml:docker-compose.ssh.project.yml'
  COMPOSE_USER: 'laradock'
  COMPOSE_SERVICE_STACK: 'workspace mysql'
  COMPOSE_LARADOCK_PACKAGE_PATH: '$(APP_CODE_PATH_HOST)/vendor/dennyweiss/laradock'
  COMPOSE_LARADOCK_CONFIGURATION_PACKAGE_PATH: '$(APP_CODE_PATH_HOST)/vendor/dennyweiss/laradock-configuration'
  COMPOSE_DOCKER_CLI_BUILD: '0'
  DOCKER_BUILDKIT: '0'

  PHP_VERSION: '8.0'
  DOCKER_IMAGE_BASE_VERSION: '4.0.9'

  WORKSPACE_BASE_IMAGE_TAG_PREFIX: 20220115
  WORKSPACE_PUID: 1001
  WORKSPACE_PGID: 116
  WORKSPACE_IMAGE: '$(ACR_URL)/e-team/laravel/workspace'
  WORKSPACE_IMAGE_VERSION: '$(DOCKER_IMAGE_BASE_VERSION)-u$(WORKSPACE_PUID)-g$(WORKSPACE_PGID)'

  PHP_FPM_BASE_IMAGE_TAG_PREFIX: 20220115
  PHP_FPM_PUID: '$(WORKSPACE_PUID)'
  PHP_FPM_PGID: '$(WORKSPACE_PGID)'
  PHP_FPM_CONF_PATH: '$(COMPOSE_LARADOCK_PACKAGE_PATH)/php-fpm/php${PHP_VERSION}.ini'
  PHP_FPM_IMAGE: '$(ACR_URL)/e-team/laravel/php-fpm'
  PHP_FPM_IMAGE_VERSION: '$(DOCKER_IMAGE_BASE_VERSION)-u$(PHP_FPM_PUID)-g$(PHP_FPM_PGID)'

  PHP_WORKER_PUID: '$(WORKSPACE_PUID)'
  PHP_WORKER_PGID: '$(WORKSPACE_PGID)'
  PHP_WORKER_CONF_PATH_PREFIX: '$(COMPOSE_LARADOCK_PACKAGE_PATH)/php-worker/supervisord.d'
  PHP_WORKER_IMAGE: '$(ACR_URL)/e-team/laravel/php-worker'
  PHP_WORKER_IMAGE_VERSION: '$(DOCKER_IMAGE_BASE_VERSION)-u$(PHP_WORKER_PUID)-g$(PHP_WORKER_PGID)'

  NGINX_HOST_LOG_PATH: '$(APP_CODE_PATH_HOST)/.logs/nginx'
  NGINX_SSL_PATH: '$(COMPOSE_LARADOCK_CONFIGURATION_PACKAGE_PATH)/nginx/ssl/'
  NGINX_SITES_PATH: '$(COMPOSE_LARADOCK_CONFIGURATION_PACKAGE_PATH)/nginx/sites/'
  NGINX_CONF_PATH: '$(COMPOSE_LARADOCK_CONFIGURATION_PACKAGE_PATH)/nginx/nginx.conf'
  NGINX_H5PB_PATH: '$(COMPOSE_LARADOCK_CONFIGURATION_PACKAGE_PATH)/nginx/h5bp-nginx/h5bp'
  NGINX_IMAGE: '$(ACR_URL)/e-team/laravel/nginx'
  NGINX_IMAGE_VERSION: '$(DOCKER_IMAGE_BASE_VERSION)-u$(PHP_FPM_PUID)-g$(PHP_FPM_PGID)'

  MYSQL_ENTRYPOINT_INITDB: '$(COMPOSE_LARADOCK_PACKAGE_PATH)/mysql/docker-entrypoint-initdb.d'
  MYSQL_CONF_PATH_PREFIX: '$(COMPOSE_LARADOCK_PACKAGE_PATH)/mysql/docker-entrypoint-initdb.d'
  MYSQL_READY_WAIT_DURATION: 15

  POSTGRES_ENTRYPOINT_INITDB: '$(COMPOSE_LARADOCK_PACKAGE_PATH)/postgres/docker-entrypoint-initdb.d'

  DB_HOST: '$(DC_PROJECT_NAME)_mysql_1'
  DB_PORT: 3306
  DB_DATABASE: default
  DB_USERNAME: default
  DB_PASSWORD: secret

  SOURCE_REPOSITORY_ID: '$(Build.Repository.ID)'
  SOURCE_REPOSITORY_NAME: '$(Build.Repository.Name)'
  SOURCE_REPOSITORY_URI: '$(Build.Repository.Uri)'
  SOURCE_REPOSITORY_BRANCH_NAME: '$(Build.SourceBranchName)'
